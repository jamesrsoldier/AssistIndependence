/* ==========================================================================
   Layout â€” Header, Footer, Navigation, Page Layouts
   ========================================================================== */

/* --- Site Header --- */
.site-header {
  position: fixed; top: 0; left: 0; right: 0; z-index: var(--z-sticky);
  background: rgba(255,255,255,0.97); backdrop-filter: blur(8px); -webkit-backdrop-filter: blur(8px);
  border-bottom: 1px solid transparent; transition: border-color var(--tr-base), box-shadow var(--tr-base);
}
.site-header.is-scrolled { border-bottom-color: var(--color-border); box-shadow: var(--shadow-sm); }
.header-inner { display: flex; align-items: center; justify-content: space-between; height: var(--header-h); }

/* Logo */
.logo { display: flex; align-items: center; gap: var(--sp-3); text-decoration: none; flex-shrink: 0; }
.logo-icon { width: 40px; height: 40px; color: var(--color-warm-blue); }
.logo-text { font-size: var(--fs-lg); font-weight: var(--fw-bold); color: var(--color-black); line-height: 1.2; }
.logo-text span { color: var(--color-warm-blue); }

/* Desktop Nav */
.main-nav { display: none; }
.nav-list { display: flex; align-items: center; gap: var(--sp-1); list-style: none; }
.nav-link {
  display: inline-flex; align-items: center; padding: var(--sp-2) var(--sp-3);
  font-size: var(--fs-base); font-weight: var(--fw-medium); color: var(--color-text);
  text-decoration: none; border-radius: var(--r-md); transition: color var(--tr-fast), background var(--tr-fast);
  white-space: nowrap;
}
.nav-link:hover, .nav-link[aria-current="page"] { color: var(--color-warm-blue); background: var(--color-warm-blue-bg); }

.header-actions { display: none; align-items: center; gap: var(--sp-3); }

/* Search toggle in header */
.search-toggle {
  width: 44px; height: 44px; display: flex; align-items: center; justify-content: center;
  border-radius: var(--r-md); color: var(--color-text); transition: background var(--tr-fast);
}
.search-toggle:hover { background: var(--color-cream); }
.search-toggle svg { width: 20px; height: 20px; }

@media (min-width: 1024px) {
  .main-nav { display: block; }
  .header-actions { display: flex; }
  .mobile-menu-toggle { display: none; }
}

/* Mobile Menu Toggle */
.mobile-menu-toggle {
  display: flex; align-items: center; justify-content: center;
  width: 44px; height: 44px; border-radius: var(--r-md);
  color: var(--color-text); transition: background var(--tr-fast);
}
.mobile-menu-toggle:hover { background: var(--color-cream); }
.mobile-menu-toggle svg { width: 24px; height: 24px; }
.mobile-menu-toggle .icon-close { display: none; }
.mobile-menu-toggle[aria-expanded="true"] .icon-menu { display: none; }
.mobile-menu-toggle[aria-expanded="true"] .icon-close { display: block; }

/* Mobile Nav */
.mobile-nav {
  display: none; position: fixed; top: var(--header-h); left: 0; right: 0; bottom: 0;
  background: var(--color-white); z-index: var(--z-overlay); overflow-y: auto;
  padding: var(--sp-6) var(--sp-4);
}
.mobile-nav.is-open { display: block; }
.mobile-nav-list { list-style: none; display: flex; flex-direction: column; gap: var(--sp-1); }
.mobile-nav-link {
  display: block; padding: var(--sp-3) var(--sp-4); font-size: var(--fs-md); font-weight: var(--fw-medium);
  color: var(--color-text); text-decoration: none; border-radius: var(--r-md);
  transition: background var(--tr-fast), color var(--tr-fast);
}
.mobile-nav-link:hover, .mobile-nav-link[aria-current="page"] { color: var(--color-warm-blue); background: var(--color-warm-blue-bg); }
.mobile-nav-cta { margin-top: var(--sp-6); padding-top: var(--sp-6); border-top: 1px solid var(--color-border); }
.mobile-nav-cta .btn { width: 100%; justify-content: center; }

@media (min-width: 1024px) { .mobile-nav { display: none !important; } }

/* --- Search Overlay --- */
.search-overlay {
  display: none; position: fixed; top: 0; left: 0; right: 0; bottom: 0;
  background: rgba(0,0,0,0.5); z-index: var(--z-modal); align-items: flex-start; justify-content: center;
  padding-top: 120px;
}
.search-overlay.is-open { display: flex; }
.search-box {
  background: var(--color-white); border-radius: var(--r-xl); padding: var(--sp-6);
  width: 90%; max-width: 600px; box-shadow: var(--shadow-xl);
}
.search-input-wrapper { display: flex; align-items: center; gap: var(--sp-3); }
.search-input-wrapper svg { width: 24px; height: 24px; color: var(--color-warm-gray-light); flex-shrink: 0; }
.search-input {
  flex: 1; border: none; font-size: var(--fs-lg); color: var(--color-black);
  outline: none; padding: var(--sp-2) 0;
}
.search-input::placeholder { color: var(--color-warm-gray-light); }
.search-hint { font-size: var(--fs-sm); color: var(--color-text-light); margin-top: var(--sp-3); }

/* --- Hero --- */
.hero {
  padding-top: calc(var(--header-h) + var(--sp-12)); padding-bottom: var(--sp-16);
  background: linear-gradient(180deg, var(--color-cream) 0%, var(--color-white) 100%);
}
.hero-inner { display: grid; grid-template-columns: 1fr; gap: var(--sp-10); align-items: center; }
.hero-content { max-width: 600px; }
.hero-tagline {
  display: inline-block; font-size: var(--fs-sm); font-weight: var(--fw-semibold);
  color: var(--color-soft-teal); text-transform: uppercase; letter-spacing: 0.08em; margin-bottom: var(--sp-4);
}
.hero-title { font-size: var(--fs-3xl); font-weight: var(--fw-bold); color: var(--color-black); line-height: var(--lh-tight); margin-bottom: var(--sp-5); }
.hero-subtitle { font-size: var(--fs-md); color: var(--color-text-light); line-height: var(--lh-relaxed); margin-bottom: var(--sp-8); }
.hero-actions { display: flex; flex-wrap: wrap; gap: var(--sp-4); }
.hero-visual { display: none; position: relative; }
.hero-image-wrapper { border-radius: var(--r-xl); overflow: hidden; box-shadow: var(--shadow-xl); background: var(--color-cream-dark); aspect-ratio: 4/3; }
.hero-placeholder {
  width: 100%; height: 100%; display: flex; align-items: center; justify-content: center;
  background: linear-gradient(135deg, var(--color-cream-dark), var(--color-cream)); color: var(--color-warm-gray-light);
}
.hero-placeholder svg { width: 80px; height: 80px; opacity: 0.4; }

@media (min-width: 768px) {
  .hero { padding-top: calc(var(--header-h) + var(--sp-16)); padding-bottom: var(--sp-20); }
  .hero-title { font-size: var(--fs-4xl); }
  .hero-visual { display: block; }
  .hero-inner { grid-template-columns: 1fr 1fr; gap: var(--sp-12); }
}
@media (min-width: 1024px) { .hero-title { font-size: var(--fs-5xl); } }

/* --- Two-Column --- */
.two-col { display: grid; grid-template-columns: 1fr; gap: var(--sp-10); align-items: center; }
@media (min-width: 768px) { .two-col { grid-template-columns: 1fr 1fr; gap: var(--sp-16); } }
.two-col-reverse .two-col-visual { order: -1; }
@media (max-width: 767px) { .two-col-reverse .two-col-visual { order: 0; } }
.two-col-visual {
  border-radius: var(--r-xl); overflow: hidden; background: var(--color-cream-dark);
  aspect-ratio: 4/3; display: flex; align-items: center; justify-content: center;
}
.two-col-content { max-width: 520px; }
.two-col-content .section-title { text-align: left; }
.two-col-content .section-subtitle { text-align: left; }

/* --- Guide Layout (sidebar + content) --- */
.guide-layout { display: grid; grid-template-columns: 1fr; gap: var(--sp-8); }
@media (min-width: 1024px) {
  .guide-layout { grid-template-columns: 240px 1fr; gap: var(--sp-12); }
}
.guide-sidebar { display: none; }
@media (min-width: 1024px) { .guide-sidebar { display: block; } }

/* --- Contact Grid --- */
.contact-grid { display: grid; grid-template-columns: 1fr; gap: var(--sp-10); }
@media (min-width: 768px) { .contact-grid { grid-template-columns: 1fr 1fr; gap: var(--sp-12); } }
.contact-info-list { list-style: none; display: flex; flex-direction: column; gap: var(--sp-6); margin-top: var(--sp-6); }
.contact-info-item { display: flex; gap: var(--sp-4); align-items: flex-start; }
.contact-info-item .icon-box { margin-bottom: 0; }
.contact-info-label { font-size: var(--fs-sm); color: var(--color-text-light); margin-bottom: var(--sp-1); }
.contact-info-value { font-size: var(--fs-base); font-weight: var(--fw-medium); color: var(--color-black); }
.contact-info-value a { text-decoration: none; color: var(--color-warm-blue); }
.contact-info-value a:hover { text-decoration: underline; }

/* --- Stats Bar --- */
.stats-bar { display: grid; grid-template-columns: repeat(2,1fr); gap: var(--sp-4); }
@media (min-width: 768px) { .stats-bar { grid-template-columns: repeat(4,1fr); } }

/* --- Testimonials Grid --- */
.testimonials-grid { display: grid; grid-template-columns: 1fr; gap: var(--sp-6); }
@media (min-width: 768px) { .testimonials-grid { grid-template-columns: repeat(2,1fr); } }
@media (min-width: 1024px) { .testimonials-grid { grid-template-columns: repeat(3,1fr); } }

/* --- Site Footer --- */
.site-footer { background: var(--color-black); color: rgba(255,255,255,0.7); padding-top: var(--sp-16); padding-bottom: var(--sp-8); }
.footer-grid { display: grid; grid-template-columns: 1fr; gap: var(--sp-10); margin-bottom: var(--sp-12); }
@media (min-width: 640px) { .footer-grid { grid-template-columns: repeat(2,1fr); } }
@media (min-width: 1024px) { .footer-grid { grid-template-columns: 2fr 1fr 1fr 1fr; } }
.footer-brand { max-width: 320px; }
.footer-brand .logo-text { color: var(--color-white); }
.footer-tagline { margin-top: var(--sp-4); font-size: var(--fs-base); line-height: var(--lh-relaxed); color: rgba(255,255,255,0.6); }
.footer-heading { font-size: var(--fs-sm); font-weight: var(--fw-semibold); color: var(--color-white); text-transform: uppercase; letter-spacing: 0.08em; margin-bottom: var(--sp-5); }
.footer-links { list-style: none; display: flex; flex-direction: column; gap: var(--sp-3); }
.footer-links a { font-size: var(--fs-base); color: rgba(255,255,255,0.6); text-decoration: none; transition: color var(--tr-fast); }
.footer-links a:hover { color: var(--color-white); }
.footer-bottom {
  padding-top: var(--sp-8); border-top: 1px solid rgba(255,255,255,0.1);
  display: flex; flex-direction: column; gap: var(--sp-4); align-items: center; text-align: center;
}
@media (min-width: 768px) { .footer-bottom { flex-direction: row; justify-content: space-between; text-align: left; } }
.footer-copyright { font-size: var(--fs-sm); color: rgba(255,255,255,0.4); }
.footer-legal { display: flex; gap: var(--sp-6); list-style: none; }
.footer-legal a { font-size: var(--fs-sm); color: rgba(255,255,255,0.4); text-decoration: none; transition: color var(--tr-fast); }
.footer-legal a:hover { color: rgba(255,255,255,0.7); }

/* --- Page Body Offset --- */
.page-body { padding-top: var(--header-h); }

/* --- Legal Pages (simple prose) --- */
.legal-page { padding-block: var(--sp-16); }
.legal-page .prose { margin-inline: auto; }
